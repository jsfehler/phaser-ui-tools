!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("uiWidgets",[],e):"object"==typeof exports?exports.uiWidgets=e():t.uiWidgets=e()}(self,(()=>(()=>{"use strict";var t={729:t=>{var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,n,o,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||t,a),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,i,o,a){var s=r?r+t:t;if(!this._events[s])return!1;var u,c,l=this._events[s],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,o),!0;case 6:return l.fn.call(l.context,e,n,i,o,a),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,y=l.length;for(c=0;c<y;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,i);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},s.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},s.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==e||i&&!s[u].once||n&&s[u].context!==n)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&a(this,e)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function o(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(r)?r:String(r)}function s(e,r,n){return r=c(r),function(e,r){if(r&&("object"===t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}(e,u()?Reflect.construct(r,n||[],c(e).constructor):r.apply(e,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}r.r(n),r.d(n,{Button:()=>P,Column:()=>ir,Frame:()=>$e,KeyboardGroup:()=>Wt,QuantityBar:()=>ge,Row:()=>lr,Scrollbar:()=>De,TextButton:()=>Ct,TextSprite:()=>Bt,ValueBar:()=>Ne,Viewport:()=>mr,Wheel3D:()=>Gt});var y=void 0===Phaser.Sprite?function(t){function r(t,n,i,o){var a;e(this,r),a=s(this,r,[t,n,i,o]),t.add.existing(l(a));var u=Phaser.Display.Align.In;return a.alignInMapping={0:u.TopLeft,1:u.TopCenter,2:u.TopRight,3:u.LeftTop,4:u.LeftCenter,5:u.LeftBottom,6:u.Center,7:u.RightTop,8:u.RightCenter,9:u.RightBottom,10:u.BottomLeft,11:u.BottomCenter,12:u.BottomRight},a}return h(r,Phaser.GameObjects.Sprite),o(r,[{key:"maskX",get:function(){return this.x}},{key:"maskY",get:function(){return this.y}},{key:"sendToBack",value:function(){this.depth=-9999}},{key:"moveDown",value:function(){this.depth-=1}},{key:"alignIn",value:function(t,e){this.alignInMapping[e](this,t,t.width)}},{key:"addOutEvent",value:function(t,e){this.on("pointerout",(function(r){t.call(e,r)}))}},{key:"addUpEvent",value:function(t,e){this.on("pointerup",(function(r){t.call(e,r)}))}},{key:"addDownEvent",value:function(t,e){this.on("pointerdown",(function(r){t.call(e,r)}))}},{key:"addDragEvent",value:function(t,e){this.on("drag",(function(){t.call(e)}))}}]),r}():function(t){function r(t,n,i,o){var a;return e(this,r),a=s(this,r,[t,n,i,o]),t.add.existing(l(a)),a}return h(r,Phaser.Sprite),o(r,[{key:"setOrigin",value:function(t,e){this.anchor=new Phaser.Point(t,e)}},{key:"maskX",get:function(){return 0}},{key:"maskY",get:function(){return 0}},{key:"setInteractive",value:function(){this.inputEnabled=!0}},{key:"disableInteractive",value:function(){this.inputEnabled=!1}},{key:"addOutEvent",value:function(t,e){this.events.onInputOut.add(t,e)}},{key:"addUpEvent",value:function(t,e){this.events.onInputUp.add(t,e)}},{key:"addDownEvent",value:function(t,e){this.events.onInputDown.add(t,e)}},{key:"displayHeight",get:function(){return this.height},set:function(t){this.height=t}},{key:"displayWidth",get:function(){return this.width},set:function(t){this.width=t}}]),r}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g(n.key),n)}}function d(t,e,r){return e&&b(t.prototype,e),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function g(t){var e=function(t,e){if("object"!=p(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==p(e)?e:String(e)}function m(t,e,r){return e=k(e),function(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return O(t)}(t,w()?Reflect.construct(e,r||[],k(t).constructor):e.apply(t,r))}function w(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(w=function(){return!!t})()}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}var P=void 0===Phaser.Button?function(t){function e(t,r,n,i,o,a,s,u,c,l){var h;v(this,e),h=m(this,e,[t,r,n,i]),t.add.existing(O(h)),h.game=t,h.overKey=s,h.outKey=u,h.downKey=c,h.upKey=l,h.setInteractive({useHandCursor:!0});var f=a;return null==f&&(f=O(h)),h.on("pointerdown",(function(t){o.call(f,t)})),h.on("pointerover",h.onOver,O(h)),h.on("pointerout",h.onOut,O(h)),h.on("pointerdown",h.onDown,O(h)),h.on("pointerup",h.onUp,O(h)),h}return S(e,t),d(e,[{key:"onOver",value:function(){this.setFrame(this.overKey)}},{key:"onOut",value:function(){this.setFrame(this.outKey)}},{key:"onDown",value:function(){this.setFrame(this.downKey)}},{key:"onUp",value:function(){this.setFrame(this.upKey)}},{key:"updateDrag",value:function(t,e,r,n){if(e.vertical)e.draggableArea.y+e.draggableArea.h>=n&&e.draggableArea.y<=n&&(e.y=n);else{var i=r+e.displayWidth;e.draggableArea.x+e.draggableArea.w>=i&&e.draggableArea.x<=r&&(e.x=r)}}},{key:"setDragBounds",value:function(t){this.draggableArea=t}},{key:"enableDragging",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setInteractive({useHandCursor:!0}),this.vertical=t,this.game.input.setDraggable(this),this.game.input.on("drag",this.updateDrag)}}]),e}(y):function(t){function e(t,r,n,i,o,a,s,u,c,l){var h;return v(this,e),h=m(this,e,[t,r,n,i,o,a,s,u,c,l]),t.add.existing(O(h)),h}return S(e,Phaser.Button),d(e,[{key:"setInteractive",value:function(){this.inputEnabled=!0,this.input.useHandCursor=!0}},{key:"disableInteractive",value:function(){this.inputEnabled=!1}},{key:"setDragBounds",value:function(t){this.input.boundsRect=new Phaser.Rectangle(t.x,t.y,t.w,t.h)}},{key:"enableDragging",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.inputEnabled=!0,this.input.enableDrag(),t?this.input.allowHorizontalDrag=!1:this.input.allowVerticalDrag=!1}},{key:"addOutEvent",value:function(t,e){this.events.onInputOut.add(t,e)}},{key:"addUpEvent",value:function(t,e){this.events.onInputUp.add(t,e)}},{key:"addDownEvent",value:function(t,e){this.events.onInputDown.add(t,e)}},{key:"addDragEvent",value:function(t,e){this.events.onDragUpdate.add(t,e)}},{key:"displayHeight",get:function(){return this.height},set:function(t){this.height=t}},{key:"displayWidth",get:function(){return this.width},set:function(t){this.width=t}}]),e}(),j=void 0===Phaser.Easing?Phaser.Math.Easing:Phaser.Easing;function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T(n.key),n)}}function T(t){var e=function(t,e){if("object"!=_(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_(e)?e:String(e)}function R(t,e,r){return e=C(e),function(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,B()?Reflect.construct(e,r||[],C(t).constructor):e.apply(t,r))}function B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(B=function(){return!!t})()}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}function A(t,e){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},A(t,e)}var D,I=void 0===Phaser.Graphics?Phaser.GameObjects.Graphics:function(t){function e(t,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),R(this,e,[t,r.x,r.y])}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A(t,e)}(e,Phaser.Graphics),r=e,(n=[{key:"fillStyle",value:function(t,e){this.beginFill(t,e)}},{key:"fillRect",value:function(t,e,r,n){this.drawRect(t,e,r,n),this.endFill()}}])&&E(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}();function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function M(t,e,r){return e=V(e),function(t,e){if(e&&("object"===z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return K(t)}(t,W()?Reflect.construct(e,r||[],V(t).constructor):e.apply(t,r))}function W(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(W=function(){return!!t})()}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}function K(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y(t,e)}function Y(t,e){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Y(t,e)}function N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L(n.key),n)}}function G(t,e,r){return e&&X(t.prototype,e),r&&X(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function L(t){var e=function(t,e){if("object"!=z(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==z(e)?e:String(e)}if(void 0===Phaser.Group){var U=function(){function t(e){N(this,t),this.parent=e}return G(t,[{key:"x",get:function(){return this.parent.x}},{key:"y",get:function(){return this.parent.y}}]),t}();D=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return N(this,e),r=M(this,e,[t,n,i]),t.add.existing(K(r)),r.parentContainer=null,r.SORT_ASCENDING=-1,r.SORT_DESCENDING=1,r.version=3,r.alignToMapping={0:Phaser.Display.Align.To.TopLeft,1:Phaser.Display.Align.To.TopCenter,8:Phaser.Display.Align.To.RightCenter,11:Phaser.Display.Align.To.BottomCenter},r.worldPosition=new U(K(r)),r}return H(e,Phaser.GameObjects.Container),G(e,[{key:"children",get:function(){return this.list}},{key:"realHeight",get:function(){return this.getBounds().height-this.y}},{key:"realWidth",get:function(){return this.getBounds().width-this.x}},{key:"setOrigin",value:function(){for(var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0;i<this.children.length;i++)(t=this.children[i])instanceof e?t instanceof e&&t.setOrigin(r,n):(t.displayOriginX=r,t.displayOriginY=n)}},{key:"getNodes",value:function(){return this.getAll()}},{key:"alignToContainerBottom",value:function(t,e){var r,n;if("layout"===e.uiWidgetsObjectRole){var i=t.getBounds();r=i.width-this.worldPosition.x,n=i.height-this.worldPosition.y}else r=t.width,n=t.height;var o=.5*r,a=n,s=e.width;"layout"===e.uiWidgetsObjectRole&&(s=e.getBounds().width),e.x=o-.5*s,e.y=t.getBounds().y+a}},{key:"alignContainerToBottom",value:function(t,e){var r=t.getBounds(),n=t.x+.5*r.width;e.x=n-.5*e.width,e.y=r.y}},{key:"alignContainerToRight",value:function(t,e){var r=t.x+t.width;e.x=r}},{key:"alignNodeToPrevious",value:function(t,r,n,i){var o=this.getNodes(),a=o[o.length-2],s={11:this.alignContainerToBottom,8:this.alignContainerToRight}[r];a instanceof e?this.alignToContainerBottom(a,t):t instanceof e&&void 0!==a?s(a,t):void 0!==a&&this.alignToMapping[r](t,a,n,i)}}]),e}()}else D=function(t){function e(t){var r;return N(this,e),(r=M(this,e,[t])).parentContainer=null,r.SORT_ASCENDING=-1,r.SORT_DESCENDING=1,r}return H(e,Phaser.Group),G(e,[{key:"realHeight",get:function(){return this.height}},{key:"realWidth",get:function(){return this.width}},{key:"getNodes",value:function(){return this.children}},{key:"alignNodeToPrevious",value:function(t,e,r,n){var i=this.getNodes(),o=i[i.length-2];void 0!==o&&t.alignTo(o,e,r,n)}}]),e}();var F=D;function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,J(n.key),n)}}function $(t,e,r){return e&&Z(t.prototype,e),r&&Z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function J(t){var e=function(t,e){if("object"!=Q(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Q(e)?e:String(e)}var tt=void 0===Phaser.Keyboard?function(){function t(){q(this,t)}return $(t,[{key:"addDownEvent",value:function(t,e,r){t.on("down",e,r)}},{key:"removeDownEvent",value:function(t){t.removeListener("down")}}]),t}():function(){function t(){q(this,t)}return $(t,[{key:"addDownEvent",value:function(t,e,r){t.onDown.add(e,r)}},{key:"removeDownEvent",value:function(t){t.onDown.removeAll()}}]),t}(),et=void 0===Phaser.Keyboard?Phaser.Input.Keyboard.KeyCodes:Phaser.Keyboard;function rt(t){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(t)}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function it(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,at(n.key),n)}}function ot(t,e,r){return e&&it(t.prototype,e),r&&it(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function at(t){var e=function(t,e){if("object"!=rt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==rt(e)?e:String(e)}void 0===Phaser.Rectangle?Phaser.Geom.Rectangle:Phaser.Rectangle;var st=void 0===Phaser.Tween?function(){function t(e){nt(this,t),this.game=e}return ot(t,[{key:"add",value:function(t,e,r,n,i,o,a,s){var u={targets:t,duration:r,ease:n,onComplete:i,onUpdate:o,onStart:a,callbackScope:s},c=Object.assign(u,e);this.game.tweens.add(c)}}]),t}():function(){function t(e){nt(this,t),this.game=e}return ot(t,[{key:"add",value:function(t,e,r,n,i,o,a,s,u,c){var l=this.game.add.tween(t).to(e,r,n,!0);o&&l.onUpdateCallback(o,u),i&&l.onComplete.add(i,s),a&&l.onStart.add(a,c)}}]),t}();function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}function ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ft(n.key),n)}}function ht(t,e,r){return e&&lt(t.prototype,e),r&&lt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ft(t){var e=function(t,e){if("object"!=ut(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ut(e)?e:String(e)}function yt(t,e,r){return e=vt(e),function(t,e){if(e&&("object"===ut(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,pt()?Reflect.construct(e,r||[],vt(t).constructor):e.apply(t,r))}function pt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(pt=function(){return!!t})()}function vt(t){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vt(t)}function bt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dt(t,e)}function dt(t,e){return dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dt(t,e)}var gt=void 0===Phaser.Graphics?function(t){function e(t,r,n){var i;return ct(this,e),(i=yt(this,e,[t,{x:r,y:n}])).game=t,i.x=r,i.y=n,i}return bt(e,Phaser.GameObjects.Graphics),ht(e,[{key:"create",value:function(t,e,r,n){this.fillStyle(16777215),this.beginPath(),this.fillRect(t,e,r,n);var i=this.createGeometryMask();return i.x=i.geometryMask.x,i.y=i.geometryMask.y,i.width=r,i.height=n,i}}]),e}():function(t){function e(){return ct(this,e),yt(this,e,arguments)}return bt(e,Phaser.Graphics),ht(e,[{key:"scaleX",get:function(){return this.scale.x},set:function(t){this.scale.x=t}},{key:"scaleY",get:function(){return this.scale.y},set:function(t){this.scale.y=t}},{key:"create",value:function(t,e,r,n){return this.beginFill(255),this.drawRect(t,e,r,n),this.endFill(),this.geometryMask=this,this}}]),e}();function mt(t){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}function wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,St(n.key),n)}}function Ot(t,e,r){return e&&kt(t.prototype,e),r&&kt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function St(t){var e=function(t,e){if("object"!=mt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==mt(e)?e:String(e)}function xt(t,e,r){return e=jt(e),function(t,e){if(e&&("object"===mt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _t(t)}(t,Pt()?Reflect.construct(e,r||[],jt(t).constructor):e.apply(t,r))}function Pt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Pt=function(){return!!t})()}function jt(t){return jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jt(t)}function _t(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Et(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tt(t,e)}function Tt(t,e){return Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tt(t,e)}var Rt=function(t){function e(t,r,n){var i;return wt(this,e),(i=xt(this,e,[t,r,n])).game=t,i.x=r,i.y=n,t.add.existing(_t(i)),i}return Et(e,t),Ot(e,[{key:"setText",value:function(t,e){return this.text&&this.text.destroy(),3===this.version?(this.text=this.game.add.text(0,0,t,e),this.text.setOrigin(.5,.5)):(this.text=this.game.add.text(this.width/2,this.height/2,t,e),this.text.anchor.set(.5,.5)),this.add(this.text),this.text.wordWrap=!0,this.text.wordWrapWidth=this.width,this}},{key:"setOrigin",value:function(t,e){return 3===this.version?this.sprite.setOrigin(t,e):this.sprite.anchor.set(t,e),this.text.x=this.sprite.width/2,this.text.y=this.sprite.height/2,this.currentTextY=this.sprite.height/2,this}}]),e}(F),Bt=function(t){function e(t,r,n,i){var o;return wt(this,e),(o=xt(this,e,[t,r,n])).sprite=new y(t,0,0,i),o.add(o.sprite),o.width=o.sprite.width,o.height=o.sprite.height,o}return Et(e,t),Ot(e)}(Rt),Ct=function(t){function e(t,r,n,i,o,a,s,u,c,l){var h;return wt(this,e),(h=xt(this,e,[t,r,n])).sprite=new P(t,0,0,i,o,a,s,u,c,l),h.add(h.sprite),h.width=h.sprite.width,h.height=h.sprite.height,h.currentTextY=0,h}return Et(e,t),Ot(e,[{key:"eventTextYAdjustment",value:function(t){var e=this;return this.sprite.addDownEvent((function(){e.text.y+=t})),this.sprite.addUpEvent((function(){e.text.y=e.currentTextY})),this.sprite.addOutEvent((function(){e.text.y=e.currentTextY})),this}}]),e}(Rt),At=r(729),Dt={};function It(t){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(t)}function zt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mt(n.key),n)}}function Mt(t){var e=function(t,e){if("object"!=It(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=It(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==It(e)?e:String(e)}Dt.modulo=function(t,e){return(t%e+e)%e},Dt.operators={"+":function(t,e){return t+e},"-":function(t,e){return t-e}};var Wt=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.vertical=r||!1,this.callbackContext=n,this.children=[],this.selected=null,this.idx=0,this.upKey=this.game.input.keyboard.addKey(et.UP),this.downKey=this.game.input.keyboard.addKey(et.DOWN),this.leftKey=this.game.input.keyboard.addKey(et.LEFT),this.rightKey=this.game.input.keyboard.addKey(et.RIGHT),this.upEvent=this.prevItem,this.downEvent=this.nextItem,this.emitter=new At,this.activateGroup()}var e,r;return e=t,(r=[{key:"addNode",value:function(t){this.children.push(t),this.selected=this.children[0],this.useBar()}},{key:"prevItem",value:function(){this.idx=Dt.modulo(this.idx-1,this.children.length),this.selected=this.children[this.idx],this.useBar(),this.emitter.emit("previous",this,this.callbackContext)}},{key:"nextItem",value:function(){this.idx=Dt.modulo(this.idx+1,this.children.length),this.selected=this.children[this.idx],this.useBar(),this.emitter.emit("next",this,this.callbackContext)}},{key:"activateGroup",value:function(){var t=new tt;this.vertical?(t.addDownEvent(this.upKey,this.upEvent,this),t.addDownEvent(this.downKey,this.downEvent,this)):(t.addDownEvent(this.leftKey,this.upEvent,this),t.addDownEvent(this.rightKey,this.downEvent,this))}},{key:"useBar",value:function(){var t=new tt;this.vertical?(t.removeDownEvent(this.leftKey),t.removeDownEvent(this.rightKey),t.addDownEvent(this.leftKey,this.selected.upEvent,this.selected),t.addDownEvent(this.rightKey,this.selected.downEvent,this.selected)):(t.removeDownEvent(this.upKey),t.removeDownEvent(this.downKey),t.addDownEvent(this.upKey,this.selected.upEvent,this.selected),t.addDownEvent(this.downKey,this.selected.downEvent,this.selected))}}])&&zt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Vt(t){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(t)}function Kt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nt(n.key),n)}}function Yt(t,e,r){return e&&Ht(t.prototype,e),r&&Ht(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nt(t){var e=function(t,e){if("object"!=Vt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Vt(e)?e:String(e)}var Xt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;Kt(this,t),this.x=e,this.y=r,this.z=n,this.sprite=i,this.position=o}return Yt(t,[{key:"getSinCosOfAngle",value:function(t){var e=t*Math.PI/180;return{cosine:Math.cos(e),sine:Math.sin(e)}}},{key:"rotateY",value:function(e){var r=this.getSinCosOfAngle(e),n=this.z*r.cosine-this.x*r.sine;return new t(this.z*r.sine+this.x*r.cosine,this.y,n)}},{key:"rotateX",value:function(e){var r=this.getSinCosOfAngle(e),n=this.y*r.cosine-this.z*r.sine,i=this.y*r.sine+this.z*r.cosine;return new t(this.x,n,i)}},{key:"rotateZ",value:function(e){var r=this.getSinCosOfAngle(e);return new t(this.x*r.cosine-this.y*r.sine,this.x*r.sine+this.y*r.cosine,this.z)}},{key:"rotate",value:function(t,e){var r=null;return"x"===t?r=this.rotateX(e):"y"===t?r=this.rotateY(e):"z"===t&&(r=this.rotateZ(e)),r}},{key:"project",value:function(e,r,n){return new t(this.x*n+e,-this.y*n+r,this.z)}}]),t}(),Gt=function(){function t(e,r,n,i,o,a,s,u,c){Kt(this,t),this.game=e,this.xy=r,this.sprites=n,this.firstPlace=i,this.zoom=o,this.axis=a,this.rotationAxis=s,this.visibleRange=u||null,this.tweenParams=c||{duration:300,ease:j.Quadratic.Out},this.emitter=new At,this.group=new F(e)}return Yt(t,[{key:"activate",value:function(){var t,e,r,n,i,o;if(this.pointsAmount=this.sprites.length,this.totalPositions=this.pointsAmount-1,this.rotationAmount=360/this.pointsAmount,null!==this.visibleRange){for(var a=[],s=0;s<=this.totalPositions;s++)a.push(s);var u=a.slice(0,this.visibleRange.max),c=a.slice(this.visibleRange.min);this.visiblePositions=u.concat(c)}this.moving=!1,this.direction=null,this.wheelItems=[];for(var l=2*Math.PI/this.pointsAmount,h=0;h<this.pointsAmount;h++)this.sprites[h].wheelPosition=h,this.group.add(this.sprites[h]),t=l*h,e=1*Math.cos(t),r=1*Math.sin(t),"x"===this.axis?(n=-1,i=e,o=r):"y"===this.axis?(n=e,i=-1,o=r):"z"===this.axis&&(n=e,i=r,o=-1),this.wheelItems.push(new Xt(n,i,o,this.sprites[h],h));this.active=this.wheelItems[this.firstPlace].sprite,this.project()}},{key:"moveBack",value:function(){!1===this.moving&&(this.moving=!0,this.direction=0,"x"===this.axis||"z"===this.axis?this.rotationAxis[this.axis]+=this.rotationAmount:this.rotationAxis[this.axis]-=this.rotationAmount,this.updatePosition("+"),this.project(),this.resetAngle())}},{key:"moveForward",value:function(){!1===this.moving&&(this.moving=!0,this.direction=1,"x"===this.axis||"z"===this.axis?this.rotationAxis[this.axis]-=this.rotationAmount:this.rotationAxis[this.axis]+=this.rotationAmount,this.updatePosition("-"),this.project(),this.resetAngle())}},{key:"project",value:function(){var t=this,e=["x","y","z"],r=e.indexOf(this.axis);e.splice(r,1);for(var n=0;n<this.wheelItems.length;n++){var i=this.wheelItems[n].rotate(this.axis,this.rotationAxis[this.axis]).rotate(e[0],this.rotationAxis[e[0]]).rotate(e[1],this.rotationAxis[e[1]]).project(this.xy.x,this.xy.y,this.zoom),o=this.wheelItems[n].sprite;if(o.lz=i.z,this.wheelItems[n].position===this.firstPlace)o.alpha=1,this.active=this.wheelItems[n].sprite;else if(null!==this.visibleRange){var a=this.visiblePositions.includes(this.wheelItems[n].position);o.alpha=a?1:0}var s=new st(this.game);n!==this.wheelItems.length-1?s.add(o,{x:i.x,y:i.y},this.tweenParams.duration,this.tweenParams.ease):s.add(o,{x:i.x,y:i.y},this.tweenParams.duration,this.tweenParams.ease,(function(){t.enableMoving(),t.dispatchOnComplete()}),null,(function(){t.dispatchOnStart()}),this)}this.group.sort("lz",F.SORT_ASCENDING)}},{key:"dispatchOnStart",value:function(){this.emitter.emit("start",this)}},{key:"dispatchOnComplete",value:function(){0===this.direction?this.emitter.emit("backComplete",this):1===this.direction&&this.emitter.emit("forwardComplete",this),this.emitter.emit("complete",this)}},{key:"enableMoving",value:function(){this.moving=!1}},{key:"updatePosition",value:function(t){for(var e=0;e<this.wheelItems.length;e++){var r=this.wheelItems[e].position;this.wheelItems[e].position=Dt.operators[t](r,1);var n=Dt.modulo(this.wheelItems[e].position,this.pointsAmount);this.wheelItems[e].position=n,this.wheelItems[e].sprite.wheelPosition=n}}},{key:"resetAngle",value:function(){var t=this.rotationAxis[this.axis];360!==t&&-360!==t||(this.rotationAxis[this.axis]=0)}}]),t}();function Lt(t){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lt(t)}function Ut(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ft(n.key),n)}}function Ft(t){var e=function(t,e){if("object"!=Lt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Lt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Lt(e)?e:String(e)}function Qt(t,e,r){return e=Zt(e),function(t,e){if(e&&("object"===Lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return $t(t)}(t,qt()?Reflect.construct(e,r||[],Zt(t).constructor):e.apply(t,r))}function qt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(qt=function(){return!!t})()}function Zt(t){return Zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zt(t)}function $t(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jt(t,e){return Jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jt(t,e)}var te=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=Qt(this,e,[t]),t.add.existing($t(r)),r.game=t,r.x=n,r.y=i,r.vertical=o,r.trackKey=a,r.barKey=s,r}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jt(t,e)}(e,t),r=e,(n=[{key:"setTrackScrollAreaSize",value:function(){this.vertical?this.trackScrollAreaSize=this.track.height-this.vslice:this.trackScrollAreaSize=this.track.width-this.hslice}},{key:"centerStaticAxis",value:function(){this.vertical?this.bar.x=this.track.x+this.track.width/2-this.bar.displayWidth/2:this.bar.y=this.track.y+this.track.height/2-this.bar.displayHeight/2}}])&&Ut(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(F);function ee(t){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(t)}function re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oe(n.key),n)}}function ie(t,e,r){return e&&ne(t.prototype,e),r&&ne(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oe(t){var e=function(t,e){if("object"!=ee(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ee(e)?e:String(e)}var ae=function(){function t(e,r,n){re(this,t),this.bar=e,this.startValue=r,this.maxValue=n,this.currentValue=r}return ie(t,[{key:"getRatio",value:function(){return this.currentValue/this.maxValue}},{key:"getCurrentValue",value:function(){return this.currentValue}}]),t}(),se=function(){function t(e,r,n){re(this,t),this.step=e,this.startValue=r,this.maxValue=n+e,this.ratio=e/n,this.ratio>1&&(this.ratio=1),this.currentValue=r,this.steps=[];for(var i=0;i<this.maxValue;i+=e)this.steps.push(i)}return ie(t,[{key:"adjustValue",value:function(t){this.currentValue=t}},{key:"getCurrentValue",value:function(){return this.currentValue}}]),t}(),ue=function(){function t(e,r){re(this,t),this.viewport=e,this.vertical=r,r?(this.step=e.area.height,this.maxValue=e.realHeight):(this.step=e.area.width,this.maxValue=e.realWidth),this.ratio=this.step/this.maxValue,this.ratio>1&&(this.ratio=1)}return ie(t,[{key:"adjustValue",value:function(t){this.vertical?this.viewport.y=t+this.viewport.area.y:this.viewport.x=t+this.viewport.area.x,this.viewport.disableOutOfBounds(this.viewport.children,this,this.vertical)}},{key:"getCurrentValue",value:function(){return this.vertical?this.viewport.y-this.viewport.area.y:this.viewport.x-this.viewport.area.x}}]),t}();function ce(t){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ce(t)}function le(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function he(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fe(n.key),n)}}function fe(t){var e=function(t,e){if("object"!=ce(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ce(e)?e:String(e)}function ye(t,e,r){return e=ve(e),function(t,e){if(e&&("object"===ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return be(t)}(t,pe()?Reflect.construct(e,r||[],ve(t).constructor):e.apply(t,r))}function pe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(pe=function(){return!!t})()}function ve(t){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ve(t)}function be(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function de(t,e){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},de(t,e)}var ge=function(t){function e(t,r,n){var i,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=ye(this,e,[t,r.x,r.y,o,s,u])).uiWidgetsObjectRole="quantitybar",i.valueRange=new ae(be(i),n.startValue,n.maxValue),i.reverse=a||!1,i.tweenParams=c||{duration:300,ease:j.Quadratic.Out},i.track=new y(t,0,0,i.trackKey),i.track.displayOriginX=0,i.track.displayOriginY=0,i.add(i.track),i.width=i.track.width,i.height=i.track.height,i.bar=new y(t,0,0,i.barKey),i.bar.displayOriginX=0,i.bar.displayOriginY=0,i.add(i.bar),i.create(),i}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&de(t,e)}(e,t),r=e,n=[{key:"setMask",value:function(){null!==this.bar.mask&&(this.bar.mask.destroy(),this.bar.mask=null);var t=new gt(this.game,this.maskX,this.maskY);this.bar.mask=t.create(this.bar.maskX,this.bar.maskY,this.maskW,this.maskH),void 0===this.version&&this.add(t)}},{key:"getMaskXY",value:function(){var t,e;return t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,void 0===this.version?(t+=this.bar.x,e+=this.bar.y):(t+=this.x,e+=this.y),this.reverse&&(this.vertical?e+=this.getBarFraction():t+=this.getBarFraction()),[t,e]}},{key:"getBarPosition",value:function(){var t=this.valueRange.getRatio()/this.windowScrollAreaSize;return this.trackScrollAreaSize*t}},{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.centerStaticAxis(),this.maskW=this.bar.width,this.maskH=this.bar.height;var r,n,i=(r=this.getMaskXY(t,e),n=2,function(t){if(Array.isArray(t))return t}(r)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(r,n)||function(t,e){if(t){if("string"==typeof t)return le(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?le(t,e):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],a=i[1];this.maskX=o,this.maskY=a,this.setMask();var s=this.getBarSize();this.reverse,this.vertical?this.bar.mask.geometryMask.scaleY=s:this.bar.mask.geometryMask.scaleX=s,this.windowScrollAreaSize=this.valueRange.maxValue,this.vslice=this.track.height*this.valueRange.getRatio(),this.hslice=this.track.width*this.valueRange.getRatio(),this.setTrackScrollAreaSize()}},{key:"addScrollTweenMask",value:function(t,e,r){new st(this.game).add(this.bar.mask.geometryMask,t,e,r)}},{key:"adjustBar",value:function(t){var e;this.valueRange.currentValue+=t;var r,n,i=this.getBarSize();void 0===this.version?(r=0,n=0):(r=this.x,n=this.y),e=this.reverse?this.vertical?{scaleY:i,y:n+this.getBarFraction()}:{scaleX:i,x:r+this.getBarFraction()}:this.vertical?{scaleY:i}:{scaleX:i},this.addScrollTweenMask(e,this.tweenParams.duration,this.tweenParams.ease)}},{key:"getBarFraction",value:function(){return this.vertical?this.track.height*this.valueRange.getRatio():this.track.width*this.valueRange.getRatio()}},{key:"getBarSize",value:function(){return this.reverse?1-this.valueRange.getRatio():this.valueRange.getRatio()}}],n&&he(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(te);function me(t){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(t)}function we(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ke(n.key),n)}}function ke(t){var e=function(t,e){if("object"!=me(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==me(e)?e:String(e)}function Oe(t,e,r){return e=xe(e),function(t,e){if(e&&("object"===me(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Se()?Reflect.construct(e,r||[],xe(t).constructor):e.apply(t,r))}function Se(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Se=function(){return!!t})()}function xe(t){return xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xe(t)}function Pe(t,e){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pe(t,e)}var je=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Oe(this,e,[t,n,i,o,a,s])).emitter=new At,r}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pe(t,e)}(e,t),r=e,(n=[{key:"verticalTrackClick",value:function(){var t=this.game.input.mousePointer.y,e=this.bar.y+this.worldPosition.y;this.parentContainer&&(e+=this.parentContainer.y),t>e+this.bar.displayHeight?this.scrollDown():t<e&&this.scrollUp()}},{key:"horizontalTrackClick",value:function(){var t=this.game.input.mousePointer.x,e=this.bar.x+this.worldPosition.x;this.parentContainer&&(e+=this.parentContainer.x),t>e+this.bar.displayWidth?this.scrollRight():t<e&&this.scrollLeft()}},{key:"enableTrackClick",value:function(){var t;this.track.setInteractive(),t=this.vertical?this.verticalTrackClick:this.horizontalTrackClick,this.track.addDownEvent(t,this)}},{key:"enableBarInput",value:function(){this.trackClicked=!1,this.barMoving=!1,this.bar.enableDragging(this.vertical)}},{key:"enableBarDrag",value:function(){var t;this.setDraggableArea(),this.bar.enableDragging(this.vertical),t=this.vertical?this.verticalDraggableArea:this.horizontalDraggableArea,this.bar.setDragBounds(t),this.snapping&&this.bar.addUpEvent(this.snapToClosestPosition,this),this.bar.addDownEvent(this.saveMousePosition,this),this.bar.addDragEvent(this.moveContent,this)}},{key:"saveMousePosition",value:function(t){this.mousePointer={x:t.x-(t.x-this.bar.x),y:t.y-(t.y-this.bar.y)}}},{key:"getBarPosition",value:function(){var t=this.valueRange.getCurrentValue()/this.windowScrollAreaSize;return this.trackScrollAreaSize*t}},{key:"getMouseDelta",value:function(){var t,e,r;if(this.trackClicked)t={x:this.bar.x,y:this.bar.y};else{var n=this.game.input.mousePointer;t={x:n.x-(n.x-this.bar.x),y:n.y-(n.y-this.bar.y)}}return this.vertical?(e=this.mousePointer.y,r=t.y):(e=this.mousePointer.x,r=t.x),this.mousePointer=t,r<this.maxValue?e-r:0}},{key:"addScrollTween",value:function(t){this.mousePointer={x:this.bar.x,y:this.bar.y},this.trackClicked=!0,new st(this.game).add(this.bar,t,this.tweenParams.duration,this.tweenParams.ease,this.enableBarInput,this.moveContent,null,this)}},{key:"scrollUp",value:function(){if(this.bar.y!==this.track.y&&!this.barMoving){var t,e=this.bar.y-this.vslice;this.barMoving=!0,t=e<=this.track.y?this.minY:this.bar.y-this.vslice,this.addScrollTween({y:t})}}},{key:"scrollDown",value:function(){if(this.bar.y+this.bar.displayHeight!==this.track.y+this.track.height&&!this.barMoving){var t,e=this.bar.y+2*this.vslice;this.barMoving=!0,this.bar.disableInteractive(),t=e>=this.track.y+this.track.height?this.maxY:this.bar.y+this.vslice,this.addScrollTween({y:t})}}},{key:"scrollLeft",value:function(){if(this.bar.x!==this.track.x&&!this.barMoving){var t,e=this.bar.x-this.hslice;this.barMoving=!0,this.bar.disableInteractive(),t=e<=this.track.x?this.minX:this.bar.x-this.hslice,this.addScrollTween({x:t})}}},{key:"scrollRight",value:function(){if(this.bar.x+this.bar.displayWidth!==this.track.x+this.track.width&&!this.barMoving){var t,e=this.bar.x+2*this.hslice;this.barMoving=!0,this.bar.disableInteractive(),t=e>=this.track.x+this.track.width?this.maxX:this.bar.x+this.hslice,this.addScrollTween({x:t})}}},{key:"moveContent",value:function(){var t=this.getGripPositionRatio()*this.windowScrollAreaSize;this.valueRange.adjustValue(t),this.emitter.emit("movement",this)}}])&&we(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(te);function _e(t){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_e(t)}function Ee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Te(n.key),n)}}function Te(t){var e=function(t,e){if("object"!=_e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=_e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_e(e)?e:String(e)}function Re(t,e,r){return e=Ce(e),function(t,e){if(e&&("object"===_e(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Be()?Reflect.construct(e,r||[],Ce(t).constructor):e.apply(t,r))}function Be(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Be=function(){return!!t})()}function Ce(t){return Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ce(t)}function Ae(t,e){return Ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ae(t,e)}var De=function(t){function e(t,r,n){var i,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=Re(this,e,[t,0,0,o,a,s])).game=t,i.content=r,i.valueRange=new ue(r,o),i.draggable=n||!1,i.minBarSize=1,i.tweenParams=u||{duration:300,ease:j.Quadratic.Out},i.trackClicked=!1,i.barMoving=!1,i.mousePointer=null,i.track=new y(t,i.x,i.y,i.trackKey),i.track.displayOriginX=0,i.track.displayOriginY=0,i.add(i.track),i.draggable&&i.enableTrackClick(),i.createBar(),i.add(i.bar),i.minY=i.track.y,i.maxY=i.track.y+i.track.height-i.bar.displayHeight,i.minX=i.track.x,i.maxX=i.track.x+i.track.width-i.bar.displayWidth,i.create(),i.vertical?(i.maxValue=i.track.displayHeight+i.worldPosition.y,void 0===i.version&&(i.maxValue+=i.bar.displayHeight)):(i.maxValue=i.track.displayWidth+i.worldPosition.x,void 0===i.version&&(i.maxValue+=i.bar.displayWidth)),i}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ae(t,e)}(e,t),r=e,(n=[{key:"createBar",value:function(){var t=new P(this.game,this.x,this.y,this.barKey,this.moveContent,this,1,0);return t.displayOriginX=0,t.displayOriginY=0,this.bar=t,this.resizeBar(),t}},{key:"resizeBar",value:function(){var t;(t=this.vertical?this.track.height*this.valueRange.ratio:this.track.width*this.valueRange.ratio)<this.minBarSize&&(t=this.minBarSize),this.vertical?this.bar.displayHeight=t:this.bar.displayWidth=t}},{key:"create",value:function(){this.centerStaticAxis(),this.draggable&&this.enableBarDrag(),this.windowScrollAreaSize=this.valueRange.maxValue-this.valueRange.step,this.vslice=this.track.displayHeight*this.valueRange.ratio,this.hslice=this.track.displayWidth*this.valueRange.ratio,this.setTrackScrollAreaSize(),this.mousePointer={x:this.bar.x,y:this.bar.y},this.setInitialBarPosition()}},{key:"setDraggableArea",value:function(){var t=this.track.displayHeight;3===this.version&&(t-=this.bar.displayHeight),this.verticalDraggableArea={x:this.track.x-(this.bar.displayWidth-this.track.width)/2,y:this.track.y,w:this.bar.displayWidth,h:t},this.horizontalDraggableArea={x:this.track.x,y:this.track.y-(this.bar.displayHeight-this.track.height)/2,w:this.track.width,h:this.bar.displayHeight}}},{key:"setInitialBarPosition",value:function(){var t=this.getBarPosition();this.vertical?this.bar.y=t+this.track.y:this.bar.x=t+this.track.x}},{key:"getGripPositionRatio",value:function(){var t=this.getBarPosition()+this.getMouseDelta();t>0?t=0:t<=-this.trackScrollAreaSize&&(t=-this.trackScrollAreaSize),this.vertical?this.bar.y<=this.track.y?t=0:this.bar.y+this.bar.displayHeight>=this.track.y+this.track.displayHeight&&(t=-this.trackScrollAreaSize):this.bar.x<=this.track.x?t=0:this.bar.x+this.bar.displayWidth>=this.track.x+this.track.displayWidth&&(t=-this.trackScrollAreaSize);var e=t/this.trackScrollAreaSize;return Number.isNaN(e)&&(e=0),e}}])&&Ee(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(je);function Ie(t){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ie(t)}function ze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Me(n.key),n)}}function Me(t){var e=function(t,e){if("object"!=Ie(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ie(e)?e:String(e)}function We(t,e,r){return e=Ke(e),function(t,e){if(e&&("object"===Ie(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return He(t)}(t,Ve()?Reflect.construct(e,r||[],Ke(t).constructor):e.apply(t,r))}function Ve(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ve=function(){return!!t})()}function Ke(t){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ke(t)}function He(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ye(t,e){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ye(t,e)}var Ne=function(t){function e(t,r,n,i){var o,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=We(this,e,[t,r.x,r.y,a,s,u])).valueRange=new se(n.step,n.startValue,n.maxValue),o.draggable=i||!1,o.tweenParams=c||{duration:300,ease:j.Quadratic.Out},o.trackClicked=!1,o.barMoving=!1,o.mousePointer=null,o.track=new y(t,0,0,o.trackKey),o.track.displayOriginX=0,o.track.displayOriginY=0,o.add(o.track),o.width=o.track.width,o.height=o.track.height,o.draggable&&o.enableTrackClick(),o.bar=new P(t,o.x,o.y,o.barKey,o.moveContent,He(o),1,0),o.bar.displayOriginX=0,o.bar.displayOriginY=0,o.bg=new I(t,{x:0,y:0}),o.add(o.bg),o.sendToBack(o.bg),o.bg.fillStyle(16711680,0),o.vertical?o.bg.fillRect(0,0-o.bar.height/2,1,o.track.height+o.bar.height):o.bg.fillRect(0-o.bar.width/2,0,o.track.width+o.bar.width,1),o.snapping=!0,o.add(o.bar),o.minY=o.track.y-o.bar.height/2,o.maxY=o.track.y+o.track.height-o.bar.height/2,o.minX=o.track.x-o.bar.width/2,o.maxX=o.track.x+o.track.width-o.bar.width/2,o.create(),o.vertical?(o.upEvent=o.scrollUp,o.downEvent=o.scrollDown):(o.upEvent=o.scrollLeft,o.downEvent=o.scrollRight),o.vertical?(o.maxValue=o.track.displayHeight+o.worldPosition.y,void 0===o.version&&(o.maxValue+=o.bar.displayHeight)):(o.maxValue=o.track.displayWidth+o.worldPosition.x,void 0===o.version&&(o.maxValue+=o.bar.displayWidth)),o}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ye(t,e)}(e,t),r=e,(n=[{key:"create",value:function(){this.centerStaticAxis(),this.draggable&&this.enableBarDrag(),this.windowScrollAreaSize=this.valueRange.maxValue-this.valueRange.step,this.vslice=this.track.displayHeight*this.valueRange.ratio,this.hslice=this.track.displayWidth*this.valueRange.ratio,this.setTrackScrollAreaSize(),this.setInitialBarPosition(),this.mousePointer={x:this.bar.x,y:this.bar.y}}},{key:"setDraggableArea",value:function(){var t=this.track.displayHeight;void 0===this.version&&(t+=this.bar.displayHeight),this.verticalDraggableArea={x:this.track.x-(this.bar.displayWidth-this.track.displayWidth)/2,y:this.track.y-this.bar.displayHeight/2,w:this.bar.displayWidth,h:t},this.horizontalDraggableArea={x:this.track.x-this.bar.displayWidth/2,y:this.track.y-(this.bar.displayHeight-this.track.displayHeight)/2,w:this.track.displayWidth+this.bar.displayWidth,h:this.bar.displayHeight}}},{key:"setTrackScrollAreaSize",value:function(){this.vertical?this.trackScrollAreaSize=this.track.displayHeight:this.trackScrollAreaSize=this.track.displayWidth}},{key:"setInitialBarPosition",value:function(){var t=this.getBarPosition();this.vertical?this.bar.y=t+this.track.y-this.bar.displayHeight/2:this.bar.x=t+this.track.x-this.bar.displayWidth/2}},{key:"getClosestPosition",value:function(){for(var t=this.valueRange.getCurrentValue(),e=Math.abs(t-this.valueRange.steps[0]),r=this.valueRange.steps[0],n=0;n<this.valueRange.steps.length;n++){var i=Math.abs(t-this.valueRange.steps[n]);i<e&&(e=i,r=this.valueRange.steps[n])}return r}},{key:"snapToClosestPosition",value:function(){var t=this.getClosestPosition();this.valueRange.adjustValue(t),this.moveContent(),this.setInitialBarPosition()}},{key:"addScrollTween",value:function(t){var e=this;this.mousePointer={x:this.bar.x,y:this.bar.y},this.trackClicked=!0,new st(this.game).add(this.bar,t,this.tweenParams.duration,this.tweenParams.ease,(function(){e.moveContent(),e.enableBarInput()}),null,null,this,null,null)}},{key:"getGripPositionRatio",value:function(){var t=this.getBarPosition()-this.getMouseDelta();t<0?t=0:t>=this.trackScrollAreaSize&&(t=this.trackScrollAreaSize),this.vertical?this.bar.y<=this.track.y?t=0:this.bar.y+this.bar.displayHeight>=this.track.y+this.track.displayHeight&&(t=this.trackScrollAreaSize):this.bar.x<=this.track.x?t=0:this.bar.x+this.bar.displayWidth>=this.track.x+this.track.displayWidth&&(t=this.trackScrollAreaSize);var e=t/this.trackScrollAreaSize;return Number.isNaN(e)&&(e=0),e}}])&&ze(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(je);function Xe(t){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xe(t)}function Ge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Le(n.key),n)}}function Le(t){var e=function(t,e){if("object"!=Xe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Xe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Xe(e)?e:String(e)}function Ue(t,e,r){return e=Qe(e),function(t,e){if(e&&("object"===Xe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qe(t)}(t,Fe()?Reflect.construct(e,r||[],Qe(t).constructor):e.apply(t,r))}function Fe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Fe=function(){return!!t})()}function Qe(t){return Qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qe(t)}function qe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ze(t,e){return Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ze(t,e)}var $e=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=Ue(this,e,[t]),t.add.existing(qe(r)),r.x=n,r.y=i,r.uiWidgetsObjectRole="layout",r.modal=a,r.background=null,r.back=null,a){var s,u=new I(t,{x:0,y:0});u.fillStyle(16777215,1),u.fillRect(0,0,t.scale.width,t.scale.height),3===r.version?(u.generateTexture("modalBack"),s="modalBack"):s=u.generateTexture(),r.back=new y(t,0,0,s),r.back.setInteractive(),r.back.setOrigin(0,0),r.back.moveDown();var c=new gt(t,0,0);r.back.mask=c.create(0,0,0,0),t.add.existing(r.back),r.depth=9999,r.back.depth=9998}return null!==o&&(r.background=new y(t,0,0,o),t.add.existing(r.background),r.background.sendToBack(),r.background.alignIn(qe(r),0)),r}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ze(t,e)}(e,t),r=e,n=[{key:"dismiss",value:function(){this.modal&&this.back.destroy(),null!==this.background&&this.background.destroy(),this.destroy()}},{key:"addNode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)||this.alignment;t instanceof F?t instanceof F&&t.setOrigin(0,0):(t.displayOriginX=0,t.displayOriginY=0),this.add(t),this.alignNodeToPrevious(t,n,e,r),t.parentContainer=this,"quantitybar"===t.uiWidgetsObjectRole&&3===t.version&&t.create(this.x,this.y),"enableBarDrag"in t&&t.enableBarDrag()}}],n&&Ge(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(F);function Je(t){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Je(t)}function tr(t,e,r){return e=rr(e),function(t,e){if(e&&("object"===Je(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,er()?Reflect.construct(e,r||[],rr(t).constructor):e.apply(t,r))}function er(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(er=function(){return!!t})()}function rr(t){return rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rr(t)}function nr(t,e){return nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nr(t,e)}var ir=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=tr(this,e,[t,n,i,o,a])).alignment=11,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nr(t,e)}(e,t),r=e,Object.defineProperty(r,"prototype",{writable:!1}),r;var r}($e);function or(t){return or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},or(t)}function ar(t,e,r){return e=ur(e),function(t,e){if(e&&("object"===or(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,sr()?Reflect.construct(e,r||[],ur(t).constructor):e.apply(t,r))}function sr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(sr=function(){return!!t})()}function ur(t){return ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ur(t)}function cr(t,e){return cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cr(t,e)}var lr=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=ar(this,e,[t,n,i,o,a])).alignment=8,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cr(t,e)}(e,t),r=e,Object.defineProperty(r,"prototype",{writable:!1}),r;var r}($e);function hr(t){return hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hr(t)}function fr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yr(n.key),n)}}function yr(t){var e=function(t,e){if("object"!=hr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=hr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==hr(e)?e:String(e)}function pr(t,e,r){return e=br(e),function(t,e){if(e&&("object"===hr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dr(t)}(t,vr()?Reflect.construct(e,r||[],br(t).constructor):e.apply(t,r))}function vr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(vr=function(){return!!t})()}function br(t){return br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},br(t)}function dr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gr(t,e){return gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gr(t,e)}var mr=function(t){function e(t,r,n,i,o){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a=pr(this,e,[t]),t.add.existing(dr(a)),a.x=r,a.y=n,a.uiWidgetsObjectRole="layout",a.area={x:r,y:n,width:i,height:o};var s=new gt(t,r,n);return void 0===a.version?a.mask=s.create(r,n,i,o):a.mask=s.create(0,0,i,o),a}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gr(t,e)}(e,t),r=e,(n=[{key:"addNode",value:function(t){this.add(t),t.parentContainer=this}},{key:"disableOutOfBounds",value:function(t,e,r){var n,i,o,a;if(void 0!==t)for(var s=0;s<t.length;s++)(n=t[s]).inputEnabled=!0,a=n.world||n,r?(i=a.y,o=e.viewport.area.y):(i=a.x,o=e.viewport.area.x),i<o&&(n.inputEnabled=!1),this.disableOutOfBounds(n.children,e,r)}}])&&fr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(F)})(),n})()));